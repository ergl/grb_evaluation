{duration,2}.
{concurrent,200}.

% ping
% uniform_barrier
%% readonly_blue | readonly_blue_bypass
%% writeonly_blue | writeonly_blue_bypass
%% read_write_blue
% readonly_red
% writeonly_red
% read_write_red
%% readonly_red_track (needs timings + metrics)
%% readonly_blue_barrier
%% writeonly_blue_barrier
%% read_write_blue_barrier
% readonly_red_barrier
% writeonly_red_barrier
% read_write_red_barrier

{operations,[
    {readonly_red, 1}
]}.

{readonly_ops, 1}. %% R
{writeonly_ops, 1}. %% W
{mixed_read_write, {1, 1}}. %% R, W

{reuse_cvc, true}. %% Should enable for updates
{retry_aborts, false}. %% Only for red transactions

%% {key_generator, {uniform_int_to_binary, 36, 1000000}}.
{key_generator, {function, hook_grb, generator, [
    #{
        shared_key => <<"global_key">>,
        conflict_ratio => 0,
        generator => {uniform_int_to_binary, 36, 1000000}
    }
]}}.
{value_generator, {fixed_bin, 256}}.

{pre_hook, {hook_grb, start}}.
{pre_hook_args, [[{conn_pool_size, 6},
                  {conection_opts, #{id_len => 16}},
                  {connection_port, 7878}]]}.

{driver,grb_bench}.
{mode,max}.
{report_interval,5}.
